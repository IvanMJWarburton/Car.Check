<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Vehicle Visual Check</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="style.css">
<script src="https://cdn.jsdelivr.net/npm/qrcodejs/qrcode.min.js"></script>
</head>

<body>
<div class="container">

<h2>Vehicle Visual Check (Advisory)</h2>

<label>Vehicle Registration
  <input id="reg">
</label>

<label>MOT Expiry Date
  <input id="motDate" type="date">
</label>

<div class="section">
<label>Windscreen
  <select id="windscreen">
    <option>No visible issues</option>
    <option>Chip/crack observed</option>
  </select>
</label>

<label>Wiper Blades
  <select id="wipers">
    <option>No visible issues</option>
    <option>Worn/damaged</option>
  </select>
</label>
</div>

<div class="section">
<h3>Tyre Tread Depths (mm)</h3>

<div class="side">
<strong>Driver Side (Right)</strong>
<label>Front Right
  <input id="fr" type="number" step="0.1">
</label>
<label>Rear Right
  <input id="rr" type="number" step="0.1">
</label>
</div>

<div class="side">
<strong>Passenger Side (Left)</strong>
<label>Front Left
  <input id="fl" type="number" step="0.1">
</label>
<label>Rear Left
  <input id="rl" type="number" step="0.1">
</label>
</div>
</div>

<div class="section">
<h3>Lights Check</h3>

<div class="side">
<strong>Driver Side (Right)</strong>
<label>Front Light
  <select id="light_fr"><option>Working</option><option>Issue observed</option></select>
</label>
<label>Rear Light
  <select id="light_rr"><option>Working</option><option>Issue observed</option></select>
</label>
<label>Brake Light
  <select id="brake_r"><option>Working</option><option>Issue observed</option></select>
</label>
<label>Indicator
  <select id="ind_r"><option>Working</option><option>Issue observed</option></select>
</label>
</div>

<div class="side">
<strong>Passenger Side (Left)</strong>
<label>Front Light
  <select id="light_fl"><option>Working</option><option>Issue observed</option></select>
</label>
<label>Rear Light
  <select id="light_rl"><option>Working</option><option>Issue observed</option></select>
</label>
<label>Brake Light
  <select id="brake_l"><option>Working</option><option>Issue observed</option></select>
</label>
<label>Indicator
  <select id="ind_l"><option>Working</option><option>Issue observed</option></select>
</label>
</div>

<label>Additional Lighting Notes (optional)
  <textarea id="lightNotes" rows="3"></textarea>
</label>
</div>

<button onclick="generate()">Generate QR Code</button>

<div id="qrcode"></div>

<small>
Visual check only. Not an MOT, inspection, or safety guarantee.
</small>

</div>

<script>
function generate() {
  const report = {
    reg: reg.value,
    motExpiry: motDate.value,
    windscreen: windscreen.value,
    wipers: wipers.value,
    tyres: {
      FR: fr.value,
      RR: rr.value,
      FL: fl.value,
      RL: rl.value
    },
    lights: {
      driver: {
        front: light_fr.value,
        rear: light_rr.value,
        brake: brake_r.value,
        indicator: ind_r.value
      },
      passenger: {
        front: light_fl.value,
        rear: light_rl.value,
        brake: brake_l.value,
        indicator: ind_l.value
      },
      notes: lightNotes.value
    },
    advisory: "Visual check only. Not an MOT or safety guarantee."
  };

  const data = encodeURIComponent(JSON.stringify(report));
  document.getElementById("qrcode").innerHTML = "";

  new QRCode(document.getElementById("qrcode"), {
    text: "https://ivanmjwarburton.github.io/Car.Check/report.html?data=" + data,
    width: 220,
    height: 220
  });
}
</script>

</body>
</html>
