<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Vehicle Check</title>
 
  <link rel="stylesheet" href="style.css">
  <script src="https://cdn.jsdelivr.net/npm/qrcodejs@1.0.0/qrcode.min.js"></script>
</head>
 
<body>
<div class="container">
 
  <h2>Vehicle Check</h2>
 
  <form id="checkForm">
 
    <label>
      Registration
      <input id="reg" required>
    </label>
 
    <label>
      MOT Expiry Date
      <input type="date" id="mot" required>
    </label>
 
    <h3>Windscreen Damage</h3>
 
    <div id="windscreen-map">
      <img src="windscreen.jpeg" alt="Windscreen">
      <div id="ws-layer"></div>
    </div>
 
    <small>Tap the windscreen to mark a chip or crack</small>
 
    <label>
      Wipers
      <select id="wipers">
        <option value="W">No issues found</option>
        <option value="I">Worn / damaged</option>
      </select>
    </label>
 
    <h3>Additional / Extra Lighting Observations</h3>
    <textarea id="lightNotes" rows="3"
      placeholder="e.g. DRL strip partially out, light bar not working"></textarea>
 
    <button type="submit">Generate QR Code</button>
  </form>
 
  <div id="qrWrapper" style="display:none">
    <div id="qrcode" onclick="openFullscreenQR()"></div>
    <small>Tap QR to enlarge for scanning</small>
  </div>
 
  <small>Visual check only. Not an MOT or safety guarantee.</small>
</div>
 
<!-- Windscreen popup -->
<div id="ws-popup">
  <div class="ws-dialog">
    <div class="ws-title">Add Windscreen Damage</div>
    <button class="ws-btn chip" data-type="chip">Mark Chip</button>
    <button class="ws-btn crack" data-type="crack">Mark Crack</button>
    <button class="ws-btn cancel" data-type="cancel">Cancel</button>
  </div>
</div>
 
<!-- QR fullscreen -->
<div id="qrFullscreen" onclick="closeFullscreenQR()">
  <div id="qrBig"></div>
  <small>Increase screen brightness for best scanning</small>
</div>
 
<script src="script.js"></script>
</body>
</html>
